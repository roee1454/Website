@if (isOpen()) {
<div class="fixed inset-0 z-50 flex items-center justify-center p-4">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" (click)="close()"></div>

    <!-- Modal Content -->
    <div class="relative w-full max-w-4xl rounded-xl border border-white/10 bg-bg-surface shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] animate-popover-in overflow-hidden">
        <!-- Terminal Header (macOS Style) -->
        <div class="flex items-center justify-between px-4 py-2.5 border-b border-text-muted/10 bg-bg-container">
            <div class="flex gap-2">
                <button (click)="close()" class="w-3 h-3 rounded-full bg-[#ff5f56] hover:brightness-110 transition-all shadow-sm active:scale-95" title="Close"></button>
                <div class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-sm"></div>
                <div class="w-3 h-3 rounded-full bg-[#27c93f] shadow-sm"></div>
            </div>
            <span class="text-[10px] font-mono text-text-muted uppercase tracking-[0.2em] font-bold opacity-60">Terminal â€” roee@portifolio</span>
            <div class="w-12"></div> <!-- Spacer for centering -->
        </div>

        <div class="p-8 md:p-12 font-mono text-sm leading-relaxed overflow-y-auto max-h-[85vh] custom-scrollbar">
            <!-- Typing Animation -->
            <div class="mb-8 flex gap-2 items-center w-fit">
                <span class="text-emerald-500 font-bold whitespace-nowrap">roee@portfolio:</span>
                <span class="text-primary font-bold">~</span>
                <span class="text-text-base italic">$</span>
                <div class="relative flex items-center overflow-hidden whitespace-nowrap"
                     [class.animate-typewriter]="isTyping()">
                    <span class="text-text-base">skills.sh</span>
                    <span class="terminal-cursor text-transparent" *ngIf="isTyping()">_</span>
                </div>
            </div>

            @if (showContent()) {
            <div class="grid md:grid-cols-12 gap-12 items-center animate-in fade-in slide-in-from-bottom-2 duration-700">
                <!-- Left Side: Compact ASCII Art -->
                <div class="md:col-span-5 flex justify-center py-4">
                    <div class="flex flex-col items-center w-fit">
                        <pre class="text-primary text-[11px] leading-tight select-none font-bold scale-125 mb-10" >
                   `
                 .o+`
                `ooo/
               `+oooo:
              `+oooooo:
              -+oooooo+:
            `/:-:++oooo+:
           `/++++/+++++++:
          `/++++++++++++++:
         `/+++ooooooooooooo/`
        ./ooosssso++osssssso+`
       .oossssso-````/ossssss+`
      -osssssso.      :ssssssso.
     :osssssss/        osssso+++
    /ossssssss/        +ssssooo/-
  `/ossssso+/:-        -:/+osssso+-
 `+sso+:-`                 `.-/+oso:
`++:.                           `-/+/
.`                                 ```
</pre>
                        <div class="text-center">
                            <span class="text-primary font-bold">roee@</span><span class="text-primary font-bold">portfolio</span>
                            <div class="text-[10px] text-text-muted opacity-40 mt-1 tracking-widest">---------------</div>
                        </div>
                    </div>
                </div>

                <!-- Right Side: Stats & Skills -->
                <div class="md:col-span-7 space-y-6">
                    <!-- Basic Info -->
                    <div class="space-y-1.5 border-b border-text-muted/10 pb-6">
                        @for (item of info; track item.key) {
                        <div class="flex items-center gap-3">
                            <span class="text-primary font-bold min-w-[60px]">{{ item.key }}:</span>
                            <span class="text-text-base">{{ item.value }}</span>
                        </div>
                        }
                    </div>

                    <!-- Skills as Inline Lists -->
                    <div class="space-y-4">
                        @for (category of skillsCategories; track category.name) {
                        <div class="space-y-1">
                            <div class="flex items-baseline gap-2 flex-wrap flex-col">
                                <span class="text-primary font-bold text-xs uppercase tracking-wider">{{ category.name }}:</span>
                                <span class="text-text-muted text-sm leading-relaxed">{{ category.items }}</span>
                            </div>
                        </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Footer prompt (Outside grid for perfect alignment) -->
            <div class="pt-8 flex items-center gap-2">
                <span class="text-emerald-500 font-bold">roee@portfolio:</span>
                <span class="text-primary font-bold">~</span>
                <span class="text-text-base italic animate-pulse">$</span>
            </div>
            }
        </div>
    </div>
</div>
}
